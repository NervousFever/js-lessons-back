// thủ tục cho phép tạo đường dẫn phụ từ đường dẫn gốc đưa vào

const fs = require("fs");
const path = require("path");

/**
 * 
 * @param {*} rootEntry dạng /abc/xyz
 * @param {*} mainEntry  dạng ./sub1/sub2
 */
module.exports = (rootEntry,mainEntry)=>{

    let entries = mainEntry.split("/");
    // lần lược tạo các đường dẫn
    let entry = `${rootEntry}`;
    
    // duyệt hết tạo đường dẫn chính
    for (let i in entries) {
        let el = entries[i];
        if (el && el !== "." && el !== ".." && el !== "") {
            entry += `${path.sep}${el}`;
            console.log("-->", `${entry}`, fs.existsSync(entry));
            if (!fs.existsSync(entry)) {
                fs.mkdirSync(entry)
            }
        }
    }

}