/**
* Chuyển đổi tên file thành tên đối tượng theo quy ước
* Xem https://expressjs.com/en/guide/routing.html
* @param {*} str
* @param {*} dash
*/
module.exports = (str, dash = "-", defaultName = "xxxYyy") => {
    if (!str) {
        return defaultName;
    }

    while (str && !/[a-zA-Z]/.test(str.charAt(0))) {
        // thay thế ký tự đầu tiên không phải chữ thành ""
        str = str.replace(/^[^a-zA-Z]/g, "");
    }

    if (!str) {
        return defaultName;
    }

    // chuyển đổi chữ cái đầu tiên thành chữ thường
    str = str.charAt(0).toLowerCase() + str.substr(1);

    // thay thế tất cả các đường dẫ sau nó thành dash
    str = str.replace(/\/+/g, dash);
    if (!str) {
        return defaultName;
    }
    // thay thế các ký tự trống bằng dấu dash
    str = str.replace(/\s+/g, dash);
    if (!str) {
        return defaultName;
    }
    // thay thế tất cả các ký tự không phải là chữ và số dấu - bằng dấu ""
    str = str.replace(/[^a-zA-Z0-9\-]/g, "");
    if (!str) {
        return defaultName;
    }

    str = str.split(dash);
    for (let i = 0, x = str.length; i < x; i++) {
        // chỉ chuyển đổi từ thứ 2 trở đi thôi - Viết hoa ký tự đầu tiên
        if (i && str[i]) str[i] = str[i][0].toUpperCase() + str[i].substr(1);
    }
    // loại bỏ ký tự - để gọn biến
    return str.join("");
}