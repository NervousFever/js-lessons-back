/**
* Thiết lập chức năng dựa trên đường dẫn của get/post
* Đường dẫn cuối sẽ là duy nhất của từng chức năng
* ví dụ: /db/edit-customer thì edit-customer là chức năng
* Hoặc, nếu ta thiết lập trước req.isFullPath = true thì nó sẽ tự lấy luôn đường dẫn đầy đủ
*/
module.exports = (req, res, next) => {
    //gán đường dẫn phía sau cùng để gán chức năng cho nó
    if (req.isFullPath)
        req.functionCode = req.pathName;
    else
        req.functionCode = req.pathName ? req.pathName.substring(req.pathName.lastIndexOf("/") + 1) : undefined;
    next();
}